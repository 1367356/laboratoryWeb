<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:include="fragments/head :: head">
</head>
<link rel="stylesheet" type="text/css" href="/css/index.css">
<link rel="stylesheet" type="text/css" href="/css/base.css">
<link rel="stylesheet" type="text/css" href="/css/file.css">
<script type="text/javascript" src="/js/jquery-3.0.0.min.js"></script>
<script type="text/javascript" src="/js/file.js"></script>
<body>
	<header th:replace="fragments/header :: header"></header>
	<section class="main">
		<div class="logo"><a href="/index"><img src="/img/webLogo.png"></a></div>
		<nav th:replace="fragments/nav :: nav"></nav>
		<!--下载列表-->
		<section class="main_content">
			<div class="content_nav">
				<div class="nav_head">资料下载</div>
				<ul class="nav_ul">
					<li class="nav_li active"><a href="#">公有资料</a></li>
					<li class="nav_li"><a href="/FtpFileController/private/queryFile?page=1">私有资料</a></li>
				</ul>
			</div>

			<div class="content_right">
				<div class="content_head">
					<span>公有资料</span>
					<input type="button" name="upload" value="上传" class="pub_load">
				</div>
				<div class="content_list" id="public_list">
					<table>
						<tr>
							<th colspan="3">标题</th>
							<th>上传人</th>
							<th>日期</th>
							<th></th>
						</tr>
						<tr th:each='list : ${response}'>
							<td colspan="3"><a th:href="@{${list.downloadLink}}" download="vsftpd"><span th:text='${list.filename}'></span></a></td>
							<td th:text='${list.uploadUser}'></td>
							<td th:text='${list.date}'></td>
							<td></td>
						</tr>
						<!--<tr th:each='list : ${response}'>-->
							<!--<td colspan="3"><a th:href="@{${list.downloadLink}}" download="下载"><span th:text='${list.filename}'></span></a></td>-->
							<!--<td th:text='${list.uploadUser}'></td>-->
							<!--<td th:text='${list.date}'></td>-->
						<!--</tr>-->
					</table>
				</div>

				<div class="content_button">
					<span th:if="${page} &gt; 1"><a class="next_page" th:href="@{/ftp/public/queryFile(page=${page}-1)}">上一页</a></span>
					<label>当前第<span th:text="${page}"></span>页 共<span th:text="${totalpage}"></span>页</label>
					<span th:if="${totalpage} &gt; ${page}"><a class="next_page" th:href="@{/ftp/public/queryFile(page=${page}+1)}">下一页</a></span>
					<!-- <input type="button" class="next_page" value="下一页"> -->
					<input type="text" class="page_num">
					<input type="button" class="jump_page" value="跳转">
				</div>
			</div>
		</section>
		<div class="show_upload" id="public">
			<div class="upload_head">公有资料上传
				<img src="/img/close.png">
			</div>
			<div sec:authorize="isAuthenticated()">
				<form action="/FtpFileController/public/uploadFile" method="post" enctype="multipart/form-data">
					<input type="file" name="file">
					<span class="file_style">
						<span class="left_btn">选择文件</span>
						<span class="right_text"></span>
					</span>
					<input type="submit" name="confirm" value="确定">
				</form>
			</div>
			<div sec:authorize="isAnonymous()" class="login_alert">
				<a href="/user/login">请登录后再上传！</a>
			</div>
		</div>
	</section>
	<div id="bg"></div>
	<footer th:replace="fragments/footer :: footer"></footer>
</body>
</html>